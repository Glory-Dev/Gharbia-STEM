.navbar {
  background-color: #0d191c;
  box-shadow: 0 0 20px 0 #040809;

  .menu-icon {
    position: relative;
    padding: 0;
    width: 25px;
    height: 22px;
    cursor: pointer;

    span {
      position: absolute;
      width: 100%;
      height: 3px;
      display: block;
      border-radius: 3px;
      background-color: white;
      transition: opacity 0s $duration, top $duration $duration, bottom $duration $duration, transform $duration;
      &:first-child {
        top: 0;
      }
      &:nth-child(2) {
        top: 50%;
        transform: translateY(-50%);
      }
      &:last-child {
        bottom: 0;
      }
    }
    // Animation
    &[aria-expanded="true"] {
      span {
        transition: opacity 0s $duration, top $duration, bottom $duration, transform $duration $duration;

        &:first-child {
          top: calc(50% - 1.5px);
          transform: rotate(45deg);
        }
        &:nth-child(2) {
          opacity: 0;
        }
        &:last-child {
          bottom: calc(50% - 1.5px);
          transform: rotate(-45deg);
        }
      }
    }
  }

  .navbar-collapse {
    @include media(min-medium) {
      transition: none;
    }

    .main-links {
      width: fit-content;
      margin: 1rem auto;
    }

    &.show .mega-menu {
      top: 100%;
      opacity: 1;
      z-index: 1200;
      visibility: visible;
    }
    .mega-menu {
      width: 100%;
      position: absolute;
      left: 0;
      background-color: #0d191c;
      box-shadow: inset 0 0 20px 0 #040809;
      /* Animation */
      top: calc(100% + 30px);
      z-index: -1;
      opacity: 0;
      visibility: hidden;
      transition: $duration;

      .row > * {
        @include media(mobile) {
          width: fit-content;
        }
      }

      ul {
        li {
          width: fit-content;
          overflow: hidden;
          position: relative;
          &::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-color: #fafafa;
            transition: left var(--main-transition-duration, $duration);
          }
          &:hover::before {
            left: 0;
          }
          > a {
            display: block;
            padding: 1rem;
          }
        }
      }
    }
  }
}
